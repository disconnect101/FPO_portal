{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>FPO Members</title>
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="{% static 'css/mdb.min.css' %}" rel="stylesheet">
    <!--  custom styles  -->
    <link href="{% static 'css/style.min.css' %}" rel="stylesheet">
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
    <style type="text/css">

/* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color:#547e40;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color:Lightgreen;
}

/* Create an active/current tablink class */
.tab button.active {
    background-color:#75c178;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}

        html,
      body,
      header,
      .carousel {
        height: 60vh;
      }

      @media (max-width: 740px) {
        html,
        body,
        header,
        .carousel {
          height: 100vh;
        }
      }

      @media (min-width: 800px) and (max-width: 850px) {
        html,
        body,
        header,
        .carousel {
          height: 100vh;
        }
      }

      @media (min-width: 800px) and (max-width: 850px) {
        html,
        body,
        header,
         {
          height: 100vh;
        }
      }

      @media (min-width: 800px) and (max-width: 850px) {
              .navbar:not(.top-nav-collapse) {
                  background:#295e10!important;
              }
          }
footer {
   left: 0;
   bottom: 0;
   width: 100%;
   height:50px;
}
/*body {font-family: Arial;}*/
th {
  background-color: #547e40;
  color: white;
  text-transform:uppercase;
}
/*th,td{
    padding:0.3%;
    padding-left:1%;
    padding-right:1%;
    text-align:center;
}*/

    </style>

</head>

<body>
  <!-- Navbar -->
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <div class="container">

      <!-- Brand -->
      <a class="navbar-brand" href="{% url 'home' %}">
        <strong>FPO PORTAL</strong>
      </a>

      <!-- Collapse -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Links -->
      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <!-- Left -->
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'home' %}">Home
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'meetings' %}" >Meetings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'plans' %}">Plans</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'govtschemes' %}" >Government Schemes</a>
          </li>
             <li class="nav-item">
            <a class="nav-link" href="{% url 'produce' %}" >Production</a>
          </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'FPOLedger'%}">Ledger</a>
            </li>
        </ul>

        <!-- Right -->
         <ul class="navbar-nav nav-flex-icons">
            <li class="nav-item">
            <a href="{% url 'add_user' %}" class="nav-link" data-toggle="tooltip" title="Add New User">
             <i class="fas fa-user-plus"></i>
            </a>
          </li>
             <li class="nav-item">
            <a href="{% url 'transaction'%}" class="nav-link" data-toggle="tooltip" title="Transactions">
             <i class="fas fa-rupee-sign"></i>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'orders' %}" class="nav-link" data-toggle="tooltip" title="Orders">
             <i class="fas fa-shopping-cart"></i>
            </a>
          </li>
             <li class="nav-item">
            <a href="{% url 'products' %}" class="nav-link" data-toggle="tooltip" title="Products">
             <i class="fas fa-shopping-basket"></i>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'fpo_statistics' %}" class="nav-link" data-toggle="tooltip" title="Statistics">
             <i class="fas fa-chart-bar"></i>
            </a>
          </li>
          <li class="nav-item active">
            <a href="{% url 'members' %}" class="nav-link border border-light rounded"
             >
              <i class="fas fa-user"></i>Members
            </a>
          </li>
		  <li class="nav-item">
            <a class="nav-link" href="{% url 'login' %}" >Logout</a>
          </li>


        </ul>

      </div>

    </div>
  </nav>
  <!-- Navbar -->

  <!--Main layout-->
  <main style="padding-top:5em;min-height:95%;font-family:Arial">

    <!---<h3 style="padding-left: 2%;">Choose an option to view details</h3>--->
      <h1 style="text-align: center;padding-top:1%" class="green-text mt-0 mb-3">Current Members</h1>
    <hr style="margin: auto; width: 6rem; border: 2px solid #4caf50; border-radius: 20rem;">
    <br>

    <div class="tab">
      <button class="tablinks nav-link" onclick="openCity(event, 'farmer')" id="defaultOpen" style="padding-left: 2%;color:white">Farmers</button>
      <button class="tablinks nav-link" onclick="openCity(event, 'leader')" style="color:white">Leaders</button>
    </div>

    <div id="farmer" class="tabcontent">
        <div class="col-md-12" style="padding-left:3%; margin-top:25px;">
                  {% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
        {{ message }}
    </li>
    {% endfor %}
</ul>
{% endif %}
        <span><a href="{% url 'add_farmer' %}" class="btn btn-primary">Add New Farmer</a></span>
            <div class="table-responsive" style="margin-top:25px; margin-bottom: 50px;">
        <table
             id="dtBasicExample1" class="table table-responsive-sm table-striped table-bordered" cellspacing="0" width="100%" style="text-align:center">
                <thead class="red lighten-4">

                    <th class="th-sm">S No.</th>
                    <th class="th-sm">Name</th>
                    <th class="th-sm">Username</th>
                    <th class="th-sm">Contact number</th>
                    <th class="th-sm">Village</th>
                    <th class="th-sm">District</th>
                    <th class="th-sm">View Profile</th>
                    <th class="th-sm">Edit</th>
                    <th class="th-sm">Delete</th>
                 </thead>
        <tbody>

          {% block content %}
          {% for farmer in farmers %}
          <tr>

              <td>{{ forloop.counter}}</td>
              <td>{{ farmer.first_name }}{{' '}}{{ farmer.last_name}}</td>
              <td>{{ farmer.user.username }}</td>
              <td>{{ farmer.contact }}</td>
              <td>{{ farmer.village }}</td>
              <td>{{ farmer.district }}</td>
              <!-- <td>farmer.Pin</td> -->
              <td align="center"><p data-placement="top" data-toggle="tooltip" title="View Farmer Details"><a href="view_farmer/{{ farmer.id }}" ><i class="fas fa-eye blue-text"></i></a></p></td>
              <td><p data-placement="top" data-toggle="tooltip" title="Edit Farmer Details"><a href="edit_farmer/{{ farmer.id }}" ><i class="fas fa-pencil-alt blue-text"></i></a></p></td>
              <td><p data-placement="top" data-toggle="tooltip" title="Delete Farmer Details"><a href="delete_farmer/{{ farmer.id }}" class="confirm-delete"><i class="fas fa-trash-alt blue-text"></i></a></p></td>

          </tr>
          {% endfor %}
      {% endblock content %}

        </tbody>

        </table>
            </div>
        </div>

    </div>

    <div id="leader" class="tabcontent">
        <div class="col-md-12" style="padding-left:3%; margin-top:25px;margin-bottom: 50px;">
                  {% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
        {{ message }}
    </li>
    {% endfor %}
</ul>
{% endif %}
             <span><a href="{% url 'add_leader' %}" class="btn btn-primary">Add New Leader</a></span>
            <div class="table-responsive" style="margin-top:25px;">
        <table
            id="dtBasicExample2" class="table table-responsive-sm table-striped table-bordered" cellspacing="0" width="100%" style="text-align:center">
                <thead>

                    <th class="th-sm">S no</th>
                    <th class="th-sm">Name</th>
                    <th class="th-sm">Username</th>
                    <th class="th-sm">Contact number</th>
                    <th class="th-sm">Village</th>
                    <th class="th-sm">District</th>
                    <th class="th-sm">View Profile</th>
                    <th class="th-sm">Edit</th>
                    <th class="th-sm">Delete</th>
                 </thead>
        <tbody>
            {%for leader in leaders %}
            <tr>

                <td>{{forloop.counter}}</td>
                <td>{{ leader.first_name }}{{' '}}{{ leader.last_name}}</td>
                <td>{{ leader.user.username }}</td>
                <td>{{ leader.contact }}</td>
                <td>{{ leader.village }}</td>
                <td>{{ leader.district }}</td>
                <td><p data-placement="top" data-toggle="tooltip" title="View Leader Details"><a href="view_leader/{{leader.id}}" ><i class="fas fa-eye blue-text"></i></a></p></td>
                <td><p data-placement="top" data-toggle="tooltip" title="Edit Leader Details"><a href="edit_leader/{{leader.id}}" ><i class="fas fa-pencil-alt blue-text" ></i></a></p></td>
                <td><p data-placement="top" data-toggle="tooltip" title="Delete Leader Record"><a href="delete_leader/{{leader.id}}" class="confirm-delete"><i class="fas fa-trash-alt blue-text"></i></a></p></td>

            </tr>
           {% endfor %}

        </tbody>

        </table>
            </div>
        </div>

    </div>
</main>
   <!--Footer-->
  <footer class="page-footer text-center font-small mt-4 wow fadeIn" >



    <!--Copyright-->
    <div class="footer-copyright py-3">
      © 2020 Copyright:
  Rural Caravan
    </div>
    <!--/.Copyright-->

  </footer>
  <!--/.Footer-->

    <!-- SCRIPTS -->
<script type="text/javascript" src="{% static 'js/popper.min.js' %}"></script>
    <!-- Bootstrap core JavaScript -->
 <script type="text/javascript" src="{% static 'js/mdb.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
      <!-- Initializations -->
  <script type="text/javascript">
    // Animations initialization
    //new WOW().init();
  </script>
  <script>
      $(document).ready(function () {
 $('#dtBasicExample2').DataTable({
  "aaSorting": [],
  columnDefs: [{
  orderable: false,
  targets: [2,3]
  }]
});
  $('.dataTables_length').addClass('bs-select');
});
  </script>
  <script>
    $(document).on('click', '.confirm-delete', function(){
    return confirm('Are you sure you want to delete this?');
    })
       $(document).ready(function() {
        $('table.display').DataTable({
          "aLengthMenu": [[3, 5, 10, 25, -1], [3, 5, 10, 25, "All"]],
            "iDisplayLength": 5

           }

        );
        $('#dtBasicExample1').DataTable({
  "aaSorting": [],
  columnDefs: [{
  orderable: false,
  targets: [2,3]
  }]
});
  $('.dataTables_length').addClass('bs-select');
    } );
      function openCity(evt, Name) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(Name).style.display = "block";
  evt.currentTarget.className += " active";
}
document.getElementById("defaultOpen").click();
      </script>
</body>

</html>
